<?php

/**
 * @file
 * Set up the Article content type for Demo Framework.
 */

use Drupal\shortcut\Entity\Shortcut;

/**
 * Implements hook_install().
 */
function df_tools_articles_install() {
  // Don't do anything during config sync.
  if (\Drupal::isConfigSyncing()) {
    return;
  }

  // Enable translation for Articles.
  if (function_exists('df_tools_translation_enable_translation')) {
    df_tools_translation_enable_translation(['node' => ['article']]);
  }

  // Add Article to the default shortcut set.
  $shortcut = Shortcut::create(array(
    'shortcut_set' => 'default',
    'title' => t('Add Article'),
    'weight' => -2,
    'link' => array('uri' => 'internal:/node/add/article'),
  ));
  $shortcut->save();

  // Add API Demo to the default shortcut set.
  $shortcut = Shortcut::create(array(
    'shortcut_set' => 'default',
    'title' => t('API Demo'),
    'weight' => 0,
    'link' => array('uri' => 'internal:/api-demo'),
  ));
  $shortcut->save();
}
